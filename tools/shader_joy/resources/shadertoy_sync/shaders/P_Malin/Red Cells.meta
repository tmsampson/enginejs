{
	"Shader": {
		"ver": "0.1",
		"info": {
			"id": "MsXXWH",
			"date": "1400161447",
			"viewed": 2379,
			"name": "Red Cells",
			"username": "P_Malin",
			"description": "Some red blood cells on an adventure.<br/>Click the mouse to rotate view.",
			"likes": 54,
			"published": 3,
			"flags": 8,
			"tags": [
				"tunnel",
				"cells"
			],
			"hasliked": 0
		},
		"renderpass": [
			{
				"inputs": [
					{
						"id": 10,
						"src": "/presets/tex09.jpg",
						"ctype": "texture",
						"channel": 0
					},
					{
						"id": 16,
						"src": "/presets/tex11.png",
						"ctype": "texture",
						"channel": 1
					}
				],
				"outputs": [
					{
						"channel": "0",
						"dst": "-1"
					},
					{
						"channel": "0",
						"dst": "-1"
					}
				],
				"code": "",
				"name": "",
				"description": "",
				"type": "image"
			},
			{
				"inputs": [],
				"outputs": [],
				"code": "float Hash(float p)\n{\n\tvec2 p2 = fract(vec2(p * 5.3983, p * 5.4427));\n    p2 += dot(p2.yx, p2.xy + vec2(21.5351, 14.3137));\n\treturn fract(p2.x * p2.y * 95.4337);\n}\n\nfloat SmoothNoise( float t )\n{\n\tfloat noiset = t * 32.0;\n\tfloat tfloor = floor(noiset);\n\tfloat ffract = fract(noiset);\n\t\n\tfloat n0 = Hash(tfloor);\n\tfloat n1 = Hash(tfloor + 1.0);\n\tfloat blend = ffract*ffract*(3.0 - 2.0*ffract);\n\treturn mix(n0, n1, blend) * 2.0 - 1.0;\n}\n\nfloat FBM( float t, float persistence )\n{\n    float result = 0.0;\n    \n    float a = 1.0;\n    float tot = 0.0;\n    result += SmoothNoise(t) * a; tot += a; t *= 2.02; a *= persistence;\n    result += SmoothNoise(t) * a; tot += a; t *= 2.02; a *= persistence; \n    result += SmoothNoise(t) * a; tot += a; \n    tot += a; \n    return result / tot;\n}\n\nvec2 mainSound(float time)\n{\n\tfloat s1 = sin(time * 2.0);\n\tfloat s2 = sin(time * 2.0 + 0.3);\n\tfloat p1 = 1.0 - s1 * s1;\n\tfloat p2 = 1.0 - s2 * s2;\n    float fPulse = (p1 * 0.3 + p2 * 0.7);\n    \n    \n    return vec2(0.15) * FBM(time * 0.25 * 48.0, 0.5 + fPulse * 0.2 )\n        + vec2(0.85) * FBM(time * 0.25 * 32.0, 0.2 ) * fPulse;\n}\n\n\n//#define IMAGE_SHADER\n\n#ifdef IMAGE_SHADER\n\nfloat Function( float x )\n{\n\treturn mainSound( iGlobalTime + x / (44100.0 / 60.0) ).x * 0.5 + 0.5;\n}\n\nfloat Plot( vec2 uv )\n{\n\tfloat y = Function(uv.x);\n\t\n\treturn abs(y - uv.y) * iResolution.y;\t\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t\n\tvec3 vResult = vec3(0.0);\n\t\n\tvResult += Plot(uv);\n\t\n\tfragColor = vec4((vResult),1.0);\n}\n#endif\n",
				"name": "",
				"description": "",
				"type": "sound"
			}
		]
	}
}